connector:
  http:
    client:
      skipSSLValidation: "true"
operations-controller:
  http:
    client:
      skipSSLValidation: "true"
gateway:
  gateway:
    auditlog:
      enabled: "true"
      authMode: "oauth"
system-broker:
  http:
    client:
      skipSSLValidation: "true"

global:
  externalServicesMock:
    enabled: "true"
    auditlog:
      applyMockConfiguration: "true"
  systemFetcher:
    enabled: "true"
    systemsAPIEndpoint: "http://compass-external-services-mock.compass-system.svc.cluster.local:8080/systemfetcher/systems"
    systemsAPIFilterCriteria: "no"
    systemsAPIFilterTenantCriteriaPattern: "tenant=%s"
    systemToTemplateMappings: '[{"Name": "temp1", "SourceKey": ["prop"], "SourceValue": ["val1"] },{"Name": "temp2", "SourceKey": ["prop"], "SourceValue": ["val2"] }]'
    oauth:
      client: "client_id"
      tokenBaseUrl: "compass-external-services-mock-sap-mtls"
      tokenPath: "/cert/token"
      tokenEndpointProtocol: "https"
      scopesClaim: "scopes"
      tenantHeaderName: "x-zid"
    http:
      client:
        skipSSLValidation: "true"
  migratorJob:
    nodeSelectorEnabled: "true"
  kubernetes:
    serviceAccountTokenJWKS: "https://container.googleapis.com/v1beta1/projects/$CLOUDSDK_CORE_PROJECT/locations/$CLOUDSDK_COMPUTE_ZONE/clusters/$COMMON_NAME/jwks"
  oathkeeper:
    mutators:
      authenticationMappingServices:
        tenant-fetcher:
          authenticator.enabled: "true"
        subscriber:
          authenticator:
            enabled: "true"

  ordAggregator:
    http:
      client:
        skipSSLValidation: "true"
  http:
    client:
      skipSSLValidation: "true"
  tests:
    http:
      client:
        skipSSLValidation:
          director: "true"
          ordService: "true"

  tenantFetchers:
    account-fetcher:
      enabled: "true"
      dbPool:
        maxOpenConnections: "1"
        maxIdleConnections: "1"
      manageSecrets: "true"
      secret:
        name: "compass-account-fetcher-secret"
        clientIdKey: "client-id"
        clientSecretKey: "client-secret"
        oauthUrlKey: "url"
      oauth:
        client: "client_id"
        secret: "client_secret"
        tokenURL: "http://compass-external-services-mock.compass-system.svc.cluster.local:8080/secured/oauth/token"
      providerName: "external-svc-mock"
      schedule: "0 23 * * *"
      kubernetes:
        configMapNamespace: "compass-system"
        pollInterval: "2s"
        pollTimeout: "1m"
        timeout: "2m"
      fieldMapping:
        idField: "guid"
        nameField: "displayName"
        customerIdField: "customerId"
        discriminatorField: ""
        discriminatorValue: ""
        totalPagesField: "totalPages"
        totalResultsField: "totalResults"
        tenantEventsField: "events"
        detailsField: "eventData"
        entityTypeField: "type"
      queryMapping:
        pageNumField: "page"
        pageSizeField: "resultsPerPage"
        timestampField: "ts"
      query:
        startPage: "1"
        pageSize: "1000"
      shouldSyncSubaccounts: "false"
      accountRegion: "local"
      endpoints:
        accountCreated: "http://compass-external-services-mock.compass-system.svc.cluster.local:8080/tenant-fetcher/global-account-create"
        accountDeleted: "http://compass-external-services-mock.compass-system.svc.cluster.local:8080/tenant-fetcher/global-account-delete"
        accountUpdated: "http://compass-external-services-mock.compass-system.svc.cluster.local:8080/tenant-fetcher/global-account-update"
    subaccount-fetcher:
      enabled: "true"
      dbPool:
        maxOpenConnections: "1"
        maxIdleConnections: "1"
      manageSecrets: "true"
      secret:
        name: "compass-subaccount-fetcher-secret"
        clientIdKey: "client-id"
        clientSecretKey: "client-secret"
        oauthUrlKey: "url"
      oauth:
        client: "client_id"
        secret: "client_secret"
        tokenURL: "http://compass-external-services-mock.compass-system.svc.cluster.local:8080/secured/oauth/token"
      providerName: "subaccount-fetcher"
      schedule: "0 23 * * *"
      kubernetes:
        configMapNamespace: "compass-system"
        pollInterval: "2s"
        pollTimeout: "1m"
        timeout: "2m"
      fieldMapping:
        idField: "guid"
        nameField: "displayName"
        customerIdField: "customerId"
        discriminatorField: ""
        discriminatorValue: ""
        totalPagesField: "totalPages"
        totalResultsField: "totalResults"
        tenantEventsField: "events"
        detailsField: "eventData"
        entityTypeField: "type"
      queryMapping:
        pageNumField: "page"
        pageSizeField: "resultsPerPage"
        timestampField: "ts"
      query:
        startPage: "1"
        pageSize: "1000"
      shouldSyncSubaccounts: "true"
      accountRegion: "local"
      subaccountRegions: "test"
      endpoints:
        subaccountCreated: "http://compass-external-services-mock.compass-system.svc.cluster.local:8080/tenant-fetcher/subaccount-create"
        subaccountDeleted: "http://compass-external-services-mock.compass-system.svc.cluster.local:8080/tenant-fetcher/subaccount-delete"
        subaccountUpdated: "http://compass-external-services-mock.compass-system.svc.cluster.local:8080/tenant-fetcher/subaccount-update"
        subaccountMoved: "http://compass-external-services-mock.compass-system.svc.cluster.local:8080/tenant-fetcher/subaccount-move"
